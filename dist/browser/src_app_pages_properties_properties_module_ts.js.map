{"version":3,"file":"src_app_pages_properties_properties_module_ts.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AAAkF;AACvB;AACO;AAGe;AACtB;AACZ;AACS;IAS3C,mBAAmB,SAAnB,mBAAmB;IAmB9B,YAAmB,WAAuB,EACvB,UAAqB,EACrB,aAA4B,EACN,UAAkB;QAHxC,gBAAW,GAAX,WAAW,CAAY;QACvB,eAAU,GAAV,UAAU,CAAW;QACrB,kBAAa,GAAb,aAAa,CAAe;QACN,eAAU,GAAV,UAAU,CAAQ;QApBpD,gBAAW,GAAW,IAAI,CAAC;QAE3B,aAAQ,GAAoC;YACjD,gBAAgB,EAAC,IAAI;SACtB,CAAC;QAEK,aAAQ,GAAW,MAAM,CAAC;QAC1B,YAAO,GAAW,IAAI,CAAC;QACvB,UAAK,GAAW,EAAE,CAAC;QAInB,eAAU,GAAc,IAAI,mDAAU,CAAC,CAAC,EAAE,IAAI,CAAC,KAAK,EAAE,IAAI,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QAS1E,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC;QAC1C,IAAI,CAAC,OAAO,GAAG,aAAa,CAAC,YAAY,EAAE;aAC1C,IAAI,CAAC,sDAAM,CAAC,CAAC,OAAsB,EAAE,EAAE,CAAC,OAAO,CAAC,MAAM,GAAG,CAAC,CAAC,EAAE,mDAAG,CAAC,CAAC,OAAsB,EAAE,EAAE,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;aACzG,SAAS,CAAC,CAAC,MAAmB,EAAE,EAAE;YACjC,IAAI,MAAM,CAAC,OAAO,IAAI,IAAI,EAAE;gBAC1B,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;gBACzB,IAAI,CAAC,OAAO,GAAG,GAAG,CAAC;aACpB;iBACI,IAAG,MAAM,CAAC,OAAO,IAAI,IAAI,EAAC;gBAC7B,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;gBACzB,IAAI,CAAC,OAAO,GAAG,EAAE,CAAC;aACnB;iBACI,IAAG,MAAM,CAAC,OAAO,IAAI,IAAI,EAAC;gBAC7B,IAAI,CAAC,OAAO,GAAG,EAAE,CAAC;gBAClB,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;aACzB;iBACG;gBACF,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;gBACpB,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;aACzB;QACH,CAAC,CAAC,CAAC;IAEL,CAAC;IAED,QAAQ;IACR,CAAC;IAED,WAAW;QACT,IAAI,CAAC,OAAO,CAAC,WAAW,EAAE,CAAC;IAC7B,CAAC;CAGF;;YAlEkB,sDAAW;YACrB,oDAAU;YALG,+DAAa;YAqCoB,MAAM,uBAA9C,iDAAM,SAAC,sDAAW;;;sBArB9B,oDAAS,SAAC,SAAS;wBAEnB,oDAAS,SAAC,qEAAY;;AAHZ,mBAAmB;IAL/B,wDAAS,CAAC;QACT,QAAQ,EAAE,gBAAgB;QAC1B,4EAA0C;;KAE3C,CAAC;GACW,mBAAmB,CAuD/B;AAvD+B;;;;;;;;;;;;;;;;;;;;;;;;;ACjBS;AACM;AACQ;AACb;AACgB;AACG;AACK;AAE3D,MAAM,MAAM,GAAW;IAC5B,EAAE,IAAI,EAAE,EAAE,EAAE,SAAS,EAAE,sEAAmB,EAAE,SAAS,EAAE,MAAM,EAAE;IAC/D,EAAE,IAAI,EAAE,KAAK,EAAE,SAAS,EAAE,2EAAiB,EAAE;CAC9C,CAAC;IAiBW,gBAAgB,SAAhB,gBAAgB;CAAI;AAApB,gBAAgB;IAf5B,uDAAQ,CAAC;QACR,YAAY,EAAE;YACZ,sEAAmB;YACnB,2EAAiB;SAClB;QACD,OAAO,EAAE;YACP,sEAAmB;SACpB;QACD,OAAO,EAAE;YACP,yDAAY;YACZ,kEAAqB,CAAC,MAAM,CAAC;YAC7B,oDAAa;YACb,+DAAY;SACb;KACF,CAAC;GACW,gBAAgB,CAAI;AAAJ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC5BuE;AAClB;AACjC;AACA;AAE2B;AAEf;AAET;AACgB;IAOvD,iBAAiB,SAAjB,iBAAiB;IAoB5B,YAAmB,WAAuB,EACvB,UAAqB,EACpB,cAA8B,EAC9B,YAA+B,EAChC,EAAsB;QAJtB,gBAAW,GAAX,WAAW,CAAY;QACvB,eAAU,GAAV,UAAU,CAAW;QACpB,mBAAc,GAAd,cAAc,CAAgB;QAC9B,iBAAY,GAAZ,YAAY,CAAmB;QAChC,OAAE,GAAF,EAAE,CAAoB;QArBlC,aAAQ,GAAoC;YACjD,gBAAgB,EAAC,IAAI;SACtB,CAAC;QACK,gBAAW,GAAW,IAAI,CAAC;QAE3B,WAAM,GAA0B,EAAE,CAAC;QACnC,YAAO,GAA0B,EAAE,CAAC;QAgBzC,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC;IAC5C,CAAC;IAED,QAAQ;QACN,IAAI,CAAC,gBAAgB,GAAC,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,kBAAkB,CAAC,CAAC,CAAC;QAE3E,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,SAAS,CAAC,MAAM,CAAC,EAAE;YACvD,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC;QACrC,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,oBAAoB,EAAE,CAAC;QAC5B,IAAI,CAAC,qBAAqB,EAAE,CAAC;QAC7B,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;QACjB,IAAG,MAAM,CAAC,UAAU,GAAG,GAAG,EAAC;YACzB,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;YACzB,IAAG,IAAI,CAAC,OAAO,EAAC;gBACd,IAAI,CAAC,OAAO,CAAC,KAAK,EAAE,CAAC;aACtB;SACF;QAAA,CAAC;QACF,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,EAAE,CAAC,KAAK,CAAC;YAChC,eAAe,EAAE,CAAC,EAAE,EAAE,+DAAmB,CAAC;YAC1C,WAAW,EAAE,CAAC,EAAE,EAAE,+DAAmB,CAAC;YACtC,YAAY,EAAE,CAAC,EAAE,EAAE,+DAAmB,CAAC;YACvC,MAAM,EAAE,CAAC,EAAE,EAAE,+DAAmB,CAAC;SAClC,CAAC,CAAC;QACH,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,EAAE,CAAC,KAAK,CAAC;YAC/B,IAAI,EAAE,CAAC,EAAE,EAAE,+DAAmB,CAAC;YAC/B,KAAK,EAAE,CAAC,EAAE,EAAE,8DAAkB,CAAC,CAAC,+DAAmB,EAAE,8EAAc,CAAC,CAAC,CAAC;YACtE,KAAK,EAAE,CAAC,EAAE,EAAE,+DAAmB,CAAC;YAChC,OAAO,EAAE,CAAC,EAAE,EAAE,+DAAmB,CAAC;SACnC,CAAC,CAAC;IACL,CAAC;IAED,WAAW;QACT,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,CAAC;IACzB,CAAC;IAGM,cAAc;QACnB,CAAC,MAAM,CAAC,UAAU,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;IACjF,CAAC;IAEM,eAAe,CAAC,EAAE;QACvB,IAAI,CAAC,UAAU,CAAC,eAAe,CAAC,EAAE,CAAC,CAAC,SAAS,CAAC,IAAI,GAAE;YAClD,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;YACrB,UAAU,CAAC,GAAG,EAAE;gBACd,IAAI,CAAC,MAAM,CAAC,QAAQ,GAAG,IAAI,CAAC;gBAC5B,IAAI,CAAC,OAAO,CAAC,QAAQ,GAAG,IAAI,CAAC;gBAC7B,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE;oBAC5B,IAAG,MAAM,EAAC;wBACR,MAAM,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;qBACpB;gBACH,CAAC,CAAC,CAAC;YACL,CAAC,CAAC,CAAC;QACL,CAAC,CAAC,CAAC;IACL,CAAC;IAED,eAAe;QACb,IAAI,CAAC,MAAM,GAAG;YACZ,QAAQ,EAAE,KAAK;YACf,aAAa,EAAE,CAAC;YAChB,YAAY,EAAE,CAAC;YACf,QAAQ,EAAE,IAAI;YACd,UAAU,EAAE,IAAI;YAChB,UAAU,EAAE,KAAK;YACjB,UAAU,EAAE,IAAI;YAChB,IAAI,EAAE,KAAK;YACX,aAAa,EAAE,KAAK;YACpB,IAAI,EAAE,IAAI;YACV,QAAQ,EAAE;gBACR,KAAK,EAAE,IAAI;gBACX,oBAAoB,EAAE,KAAK;aAC5B;SACF,CAAC;QAEF,IAAI,CAAC,OAAO,GAAG;YACb,QAAQ,EAAE,KAAK;YACf,aAAa,EAAE,CAAC;YAChB,YAAY,EAAE,EAAE;YAChB,QAAQ,EAAE,IAAI;YACd,UAAU,EAAE,KAAK;YACjB,UAAU,EAAE,KAAK;YACjB,UAAU,EAAE,IAAI;YAChB,IAAI,EAAE,KAAK;YACX,aAAa,EAAE,KAAK;YACpB,IAAI,EAAE,IAAI;YACV,WAAW,EAAE;gBACX,GAAG,EAAE;oBACH,aAAa,EAAE,CAAC;iBACjB;gBACD,GAAG,EAAE;oBACH,aAAa,EAAE,CAAC;iBACjB;gBACD,GAAG,EAAE;oBACH,aAAa,EAAE,CAAC;iBACjB;aACF;SACF;IAEH,CAAC;IAGM,cAAc;QACnB,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE;YAC5B,IAAG,MAAM,EAAC;gBACR,MAAM,CAAC,MAAM,EAAE,CAAC;aACjB;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IAEM,WAAW,CAAC,KAAY;QAC7B,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE;YAC5B,IAAG,MAAM,CAAC,YAAY,CAAC,CAAC,aAAa,CAAC,EAAE,IAAI,eAAe,EAAC;gBAC1D,MAAM,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;aACxB;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IAEM,aAAa,CAAC,KAAa;QAChC,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE;YAC5B,IAAI,IAAI,GAAG,MAAM,CAAC,YAAY,CAAC,CAAC,aAAa,CAAC;YAC9C,IAAG,IAAI,CAAC,EAAE,IAAI,gBAAgB,EAAC;gBAC7B,MAAM,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;gBACvB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;oBACzD,MAAM,OAAO,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;oBAC7C,IAAG,OAAO,CAAC,SAAS,CAAC,QAAQ,CAAC,QAAQ,GAAC,KAAK,CAAC,EAAC;wBAC5C,OAAO,CAAC,SAAS,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC;qBACvC;yBACG;wBACF,OAAO,CAAC,SAAS,CAAC,MAAM,CAAC,cAAc,CAAC,CAAC;qBAC1C;iBACF;aACF;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IAIM,SAAS;QACd,OAAO,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,IAAI,GAAE,KAAI,CAAC,EAAE,IAAI,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;IACvF,CAAC;IAGM,WAAW;QAChB,OAAO,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,IAAI,GAAE,KAAI,CAAC,EAAE,IAAI,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;IACrF,CAAC;IAEM,oBAAoB;QACzB,IAAI,CAAC,UAAU,CAAC,oBAAoB,EAAE,CAAC,SAAS,CAAC,UAAU,GAAE;YAC3D,IAAI,CAAC,iBAAiB,GAAG,UAAU,CAAC;QACtC,CAAC,CAAC;IACJ,CAAC;IAEM,qBAAqB;QAC1B,IAAI,CAAC,UAAU,CAAC,qBAAqB,EAAE,CAAC,SAAS,CAAC,UAAU,GAAE;YAC5D,IAAI,CAAC,kBAAkB,GAAG,UAAU,CAAC,KAAK,CAAC,CAAC,EAAC,CAAC,CAAC,CAAC;QAClD,CAAC,CAAC;IACJ,CAAC;IAEM,QAAQ,CAAC,UAAiB,CAAC;QAChC,IAAI,GAAG,GAAG,CAAC,CAAC,EAAC,CAAC,EAAC,CAAC,EAAC,CAAC,EAAC,CAAC,CAAC,CAAC,CAAC,YAAY;QACnC,OAAO,GAAG,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,GAAC,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,iBAAiB;QACtE,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,UAAU,CAAC,SAAS,EAAE,CAAC,MAAM,CAAC,KAAK,GAAE,CAAC,KAAK,CAAC,EAAE,IAAI,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;IAClF,CAAC;IAEM,mBAAmB,CAAC,MAAa;QACtC,IAAI,IAAI,CAAC,WAAW,CAAC,KAAK,EAAE;SAC3B;IACH,CAAC;IAEM,oBAAoB,CAAC,MAAa;QACvC,IAAI,IAAI,CAAC,YAAY,CAAC,KAAK,EAAE;YAC3B,IAAI,eAAe,GAAG,MAAM,CAAC,iBAAiB,CAAC;YAC/C,IAAI,IAAI,GAAG,MAAM,CAAC,aAAa,CAAC;YAChC,IAAI,QAAQ,GAAG,MAAM,CAAC,cAAc,CAAC;YACrC,IAAI,IAAI,GAAG,MAAM,CAAC,QAAQ,CAAC;YAC3B,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,iBAAiB,CAAC,eAAe,EAAE,IAAI,EAAE,QAAQ,GAAG,GAAG,GAAG,EAAE,EAAE,IAAI,GAAG,EAAE,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;SAChH;IACH,CAAC;IACM,iBAAiB,CAAC,eAAmB,EAAE,WAAe,EAAE,YAAgB,EAAE,MAAU;QACzF,OAAO,CAAC,CAAC,eAAe,GAAC,WAAW,CAAC,GAAG,YAAY,CAAC,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,GAAG,YAAY,EAAE,CAAC,MAAM,CAAC,CAAC,CAAC;IACpG,CAAC;CAEF;;YAzNQ,6DAAW;YAJX,2DAAU;YADV,2DAAc;YAOd,8DAAiB;YARjB,8DAAkB;;;sBAiBxB,oDAAS,SAAC,SAAS;sBACnB,uDAAY,SAAC,+DAAe;6BA2D5B,uDAAY,SAAC,eAAe;;AA7DlB,iBAAiB;IAL7B,wDAAS,CAAC;QACT,QAAQ,EAAE,cAAc;QACxB,0EAAwC;;KAEzC,CAAC;GACW,iBAAiB,CA+M7B;AA/M6B","sources":["./src/app/pages/properties/properties.component.ts","./src/app/pages/properties/properties.module.ts","./src/app/pages/properties/property/property.component.ts"],"sourcesContent":["import { Component, Inject, OnInit, PLATFORM_ID, ViewChild } from '@angular/core';\nimport { MatPaginator } from '@angular/material/paginator';\nimport { MediaChange, MediaObserver } from '@angular/flex-layout';\nimport { PerfectScrollbarConfigInterface } from 'ngx-perfect-scrollbar';\nimport { Subscription } from 'rxjs'; \nimport { debounceTime, distinctUntilChanged, filter, map } from 'rxjs/operators'; \nimport { Settings, AppSettings } from '../../app.settings';\nimport { AppService } from '../../app.service';\nimport { Property, Pagination } from '../../app.models'; \nimport { isPlatformBrowser } from '@angular/common';\n\n\n@Component({\n  selector: 'app-properties',\n  templateUrl: './properties.component.html',\n  styleUrls: ['./properties.component.scss']\n})\nexport class PropertiesComponent implements OnInit {\n  @ViewChild('sidenav') sidenav: any;\n  public sidenavOpen:boolean = true;\n  @ViewChild(MatPaginator) paginator: MatPaginator;\n  public psConfig: PerfectScrollbarConfigInterface = {\n    wheelPropagation:true\n  };\n  public properties: Property[];\n  public viewType: string = 'grid';\n  public viewCol: number = 33.3;\n  public count: number = 12;\n  public sort: string;\n  public searchFields: any;\n  public removedSearchField: string;\n  public pagination:Pagination = new Pagination(1, this.count, null, 2, 0, 0); \n  public message:string;\n  public watcher: Subscription;\n\n  public settings: Settings\n  constructor(public appSettings:AppSettings, \n              public appService:AppService, \n              public mediaObserver: MediaObserver,\n              @Inject(PLATFORM_ID) private platformId: Object) {\n    this.settings = this.appSettings.settings;    \n    this.watcher = mediaObserver.asObservable()\n    .pipe(filter((changes: MediaChange[]) => changes.length > 0), map((changes: MediaChange[]) => changes[0]))\n    .subscribe((change: MediaChange) => {\n      if (change.mqAlias == 'xs') {\n        this.sidenavOpen = false;\n        this.viewCol = 100;\n      }\n      else if(change.mqAlias == 'sm'){\n        this.sidenavOpen = false;\n        this.viewCol = 50;\n      }\n      else if(change.mqAlias == 'md'){\n        this.viewCol = 50;\n        this.sidenavOpen = true;\n      }\n      else{\n        this.viewCol = 33.3;\n        this.sidenavOpen = true;\n      }\n    });\n\n  }\n\n  ngOnInit() {\n  }\n\n  ngOnDestroy(){ \n    this.watcher.unsubscribe();\n  }\n\n\n}","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { RouterModule, Routes } from '@angular/router';\nimport { AgmCoreModule } from '@agm/core';  \nimport { SharedModule } from '../../shared/shared.module';\nimport { PropertiesComponent } from './properties.component';\nimport { PropertyComponent } from './property/property.component';\n\nexport const routes: Routes = [\n  { path: '', component: PropertiesComponent, pathMatch: 'full' },\n  { path: ':id', component: PropertyComponent }\n];\n\n@NgModule({\n  declarations: [\n    PropertiesComponent, \n    PropertyComponent\n  ],\n  exports: [\n    PropertiesComponent, \n  ],\n  imports: [\n    CommonModule,\n    RouterModule.forChild(routes),\n    AgmCoreModule,\n    SharedModule\n  ]\n})\nexport class PropertiesModule { }\n","import { Component, OnInit, ViewChild, HostListener, ViewChildren, QueryList } from '@angular/core';\nimport { UntypedFormBuilder, UntypedFormGroup, Validators } from '@angular/forms';\nimport { ActivatedRoute } from '@angular/router';\nimport { AppService } from 'src/app/app.service';\nimport { Property } from 'src/app/app.models';\nimport { SwiperConfigInterface, SwiperDirective } from 'ngx-swiper-wrapper';\nimport { PerfectScrollbarConfigInterface } from 'ngx-perfect-scrollbar';\nimport { AppSettings, Settings } from 'src/app/app.settings';\nimport { CompareOverviewComponent } from 'src/app/shared/compare-overview/compare-overview.component';\nimport { EmbedVideoService } from 'ngx-embed-video'; \nimport { emailValidator } from 'src/app/theme/utils/app-validators';\n\n@Component({\n  selector: 'app-property',\n  templateUrl: './property.component.html',\n  styleUrls: ['./property.component.scss']\n})\nexport class PropertyComponent implements OnInit {\n  @ViewChild('sidenav') sidenav: any;  \n  @ViewChildren(SwiperDirective) swipers: QueryList<SwiperDirective>;\n  public psConfig: PerfectScrollbarConfigInterface = {\n    wheelPropagation:true\n  };\n  public sidenavOpen:boolean = true;\n  public stateTransaction:any;\n  public config: SwiperConfigInterface = {}; \n  public config2: SwiperConfigInterface = {}; \n  private sub: any;\n  public property:Property; \n  public settings: Settings;  \n  public embedVideo: any;\n  public relatedProperties: Property[];\n  public featuredProperties: Property[];\n  public agent:any;\n  public mortgageForm: UntypedFormGroup;\n  public monthlyPayment:any;\n  public contactForm: UntypedFormGroup;\n  constructor(public appSettings:AppSettings, \n              public appService:AppService, \n              private activatedRoute: ActivatedRoute, \n              private embedService: EmbedVideoService,\n              public fb: UntypedFormBuilder) {\n    this.settings = this.appSettings.settings; \n  }\n\n  ngOnInit() {\n    this.stateTransaction=JSON.parse(localStorage.getItem('stateTransaction'));\n\n    this.sub = this.activatedRoute.params.subscribe(params => {   \n      this.getPropertyById(params['id']); \n    });\n    this.getRelatedProperties();\n    this.getFeaturedProperties();\n    this.getAgent(1);\n    if(window.innerWidth < 960){\n      this.sidenavOpen = false;\n      if(this.sidenav){\n        this.sidenav.close();\n      } \n    };\n    this.mortgageForm = this.fb.group({\n      principalAmount: ['', Validators.required],\n      downPayment: ['', Validators.required], \n      interestRate: ['', Validators.required],\n      period: ['', Validators.required]\n    });\n    this.contactForm = this.fb.group({\n      name: ['', Validators.required],\n      email: ['', Validators.compose([Validators.required, emailValidator])],\n      phone: ['', Validators.required],\n      message: ['', Validators.required]\n    });\n  } \n\n  ngOnDestroy() {\n    this.sub.unsubscribe();\n  }  \n\n  @HostListener('window:resize')\n  public onWindowResize():void {\n    (window.innerWidth < 960) ? this.sidenavOpen = false : this.sidenavOpen = true; \n  }\n\n  public getPropertyById(id){\n    this.appService.getPropertyById(id).subscribe(data=>{\n      this.property = data;  \n      setTimeout(() => { \n        this.config.observer = true;\n        this.config2.observer = true; \n        this.swipers.forEach(swiper => { \n          if(swiper){\n            swiper.setIndex(0);\n          } \n        }); \n      });\n    });\n  }\n\n  ngAfterViewInit(){\n    this.config = {\n      observer: false,\n      slidesPerView: 1,\n      spaceBetween: 0,       \n      keyboard: true,\n      navigation: true,\n      pagination: false,\n      grabCursor: true,        \n      loop: false,\n      preloadImages: false,\n      lazy: true,\n      autoplay: {\n        delay: 5000,\n        disableOnInteraction: false\n      }\n    };\n\n    this.config2 = {\n      observer: false,\n      slidesPerView: 4,\n      spaceBetween: 16,      \n      keyboard: true,\n      navigation: false,\n      pagination: false, \n      grabCursor: true,       \n      loop: false, \n      preloadImages: false,\n      lazy: true,  \n      breakpoints: {\n        200: {\n          slidesPerView: 2\n        },\n        480: {\n          slidesPerView: 3\n        },\n        600: {\n          slidesPerView: 4\n        } \n      }\n    } \n\n  }\n  \n\n  public onOpenedChange(){ \n    this.swipers.forEach(swiper => { \n      if(swiper){\n        swiper.update();\n      } \n    });     \n  }\n\n  public selectImage(index:number){ \n    this.swipers.forEach(swiper => {\n      if(swiper['elementRef'].nativeElement.id == 'main-carousel'){\n        swiper.setIndex(index);\n      }      \n    }); \n  }\n\n  public onIndexChange(index: number) {  \n    this.swipers.forEach(swiper => { \n      let elem = swiper['elementRef'].nativeElement;\n      if(elem.id == 'small-carousel'){\n        swiper.setIndex(index);  \n        for (let i = 0; i < elem.children[0].children.length; i++) {\n          const element = elem.children[0].children[i]; \n          if(element.classList.contains('thumb-'+index)){\n            element.classList.add('active-thumb'); \n          }\n          else{\n            element.classList.remove('active-thumb'); \n          }\n        }\n      } \n    });     \n  }\n\n\n\n  public onCompare(){\n    return this.appService.Data.compareList.filter(item=>item.id == this.property.id)[0];\n  }\n\n\n  public onFavorites(){\n    return this.appService.Data.favorites.filter(item=>item.id == this.property.id)[0];\n  }\n\n  public getRelatedProperties(){\n    this.appService.getRelatedProperties().subscribe(properties=>{\n      this.relatedProperties = properties;\n    })\n  }\n\n  public getFeaturedProperties(){\n    this.appService.getFeaturedProperties().subscribe(properties=>{\n      this.featuredProperties = properties.slice(0,3); \n    })\n  } \n\n  public getAgent(agentId:number = 1){\n    var ids = [1,2,3,4,5]; //agent ids \n    agentId = ids[Math.floor(Math.random()*ids.length)]; //random agent id\n    this.agent = this.appService.getAgents().filter(agent=> agent.id == agentId)[0]; \n  }\n\n  public onContactFormSubmit(values:Object){\n    if (this.contactForm.valid) { \n    } \n  }\n\n  public onMortgageFormSubmit(values:Object){ \n    if (this.mortgageForm.valid) { \n      var principalAmount = values['principalAmount']\n      var down = values['downPayment']\n      var interest = values['interestRate']\n      var term = values['period']\n      this.monthlyPayment = this.calculateMortgage(principalAmount, down, interest / 100 / 12, term * 12).toFixed(2);\n    }     \n  }\n  public calculateMortgage(principalAmount:any, downPayment:any, interestRate:any, period:any){    \n    return ((principalAmount-downPayment) * interestRate) / (1 - Math.pow(1 + interestRate, -period));\n  } \n\n}"],"names":[],"sourceRoot":"webpack:///"}