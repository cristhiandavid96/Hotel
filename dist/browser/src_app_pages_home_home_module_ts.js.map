{"version":3,"file":"src_app_pages_home_home_module_ts.js","mappings":"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","sources":["./src/app/pages/home/featured-properties/featured-properties.component.ts","./src/app/pages/home/home.component.ts","./src/app/pages/home/home.module.ts","./src/app/pages/home/hot-offer-today/hot-offer-today.component.ts"],"sourcesContent":["import { Component, OnInit, Input } from '@angular/core';\n\n@Component({\n  selector: 'app-featured-properties',\n  templateUrl: './featured-properties.component.html',\n  styleUrls: ['./featured-properties.component.scss']\n})\nexport class FeaturedPropertiesComponent implements OnInit {\n  @Input('properties') featuredProperties;\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","import { Component, OnInit } from '@angular/core';\nimport { Settings, AppSettings } from '../../app.settings';\nimport { AppService } from '../../app.service';\nimport { Property, Pagination, Location } from '../../app.models';\nimport { filter, map } from 'rxjs/operators';\nimport { Subscription } from 'rxjs';\nimport { MediaChange, MediaObserver } from '@angular/flex-layout'; \nimport { debounceTime, distinctUntilChanged } from 'rxjs/operators'; \n\n@Component({\n  selector: 'app-home',\n  templateUrl: './home.component.html',\n  styleUrls: ['./home.component.scss']\n})\nexport class HomeComponent implements OnInit {\n\n  watcher: Subscription;\n  activeMediaQuery = ''; \n\n  public slides = [];\n  public properties: Property[];\n  public viewType: string = 'grid';\n  public viewCol: number = 25;\n  public count: number = 8;\n  public sort: string;\n  public searchFields: any;\n  public removedSearchField: string;\n  public pagination:Pagination = new Pagination(1, 8, null, 2, 0, 0); \n  public message:string;\n  public featuredProperties: Property[];\n  public locations: Location[]; \n\n  public settings: Settings;\n  constructor(public appSettings:AppSettings, public appService:AppService, public mediaObserver: MediaObserver) {\n    this.settings = this.appSettings.settings;\n\n    this.watcher = mediaObserver.asObservable()\n    .pipe(filter((changes: MediaChange[]) => changes.length > 0), map((changes: MediaChange[]) => changes[0]))\n    .subscribe((change: MediaChange) => {\n      // console.log(change)\n      if(change.mqAlias == 'xs') {\n        this.viewCol = 100;\n      }\n      else if(change.mqAlias == 'sm'){\n        this.viewCol = 50;\n      }\n      else if(change.mqAlias == 'md'){\n        this.viewCol = 33.3;\n      }\n      else{\n        this.viewCol = 25;\n      }\n    });\n\n  }\n\n  ngOnInit() {  \n    this.getSlides();\n    this.getLocations();\n    this.getProperties();  \n    this.getFeaturedProperties();\n  }\n\n  ngDoCheck(){\n    if(this.settings.loadMore.load){     \n      this.settings.loadMore.load = false;     \n      this.getProperties();  \n    }\n  }\n\n  ngOnDestroy(){\n    this.resetLoadMore();\n    this.watcher.unsubscribe();\n  }\n\n  public getSlides(){\n    this.appService.getHomeCarouselSlides().subscribe(res=>{\n      this.slides = res;\n    })\n  }\n\n  public getLocations(){\n    this.appService.getLocations().subscribe(res =>{\n      this.locations = res;\n    })\n  }\n\n  public getProperties(){  \n    //console.log('get properties by : ', this.searchFields);  \n    this.appService.getProperties().subscribe(data => {      \n      if(this.properties && this.properties.length > 0){  \n        this.settings.loadMore.page++;\n        this.pagination.page = this.settings.loadMore.page; \n      }\n      let result = this.filterData(data); \n      if(result.data.length == 0){\n        this.properties.length = 0;\n        this.pagination = new Pagination(1, this.count, null, 2, 0, 0);  \n        this.message = 'No Results Found';\n        return false;\n      }   \n      if(this.properties && this.properties.length > 0){   \n        this.properties = this.properties.concat(result.data);          \n      }\n      else{\n        this.properties = result.data;  \n      } \n      this.pagination = result.pagination;\n      this.message = null;\n\n      if(this.properties.length == this.pagination.total){\n        this.settings.loadMore.complete = true;\n        this.settings.loadMore.result = this.properties.length;\n      }\n      else{\n        this.settings.loadMore.complete = false;\n      }\n\n      if(this.settings.header == 'map'){\n        this.locations.length = 0;\n        this.properties.forEach(p => {\n          let loc = new Location(p.id, p.location.lat, p.location.lng);\n          this.locations.push(loc);\n        });\n        this.locations = [...this.locations];\n      } \n     \n    })\n  }\n\n  public resetLoadMore(){\n    this.settings.loadMore.complete = false;\n    this.settings.loadMore.start = false;\n    this.settings.loadMore.page = 1;\n    this.pagination = new Pagination(1, this.count, null, null, this.pagination.total, this.pagination.totalPages);\n  }\n\n  public filterData(data){\n    return this.appService.filterData(data, this.searchFields, this.sort, this.pagination.page, this.pagination.perPage);\n  }\n\n  public searchClicked(){ \n    this.properties.length = 0;\n    this.getProperties(); \n  }\n  public searchChanged(event){   \n    event.valueChanges.subscribe(() => {\n      this.resetLoadMore();\n      this.searchFields = event.value;\n      setTimeout(() => {      \n        this.removedSearchField = null;\n      });\n      if(!this.settings.searchOnBtnClick){     \n        this.properties.length = 0;  \n      }            \n    }); \n    event.valueChanges.pipe(debounceTime(500), distinctUntilChanged()).subscribe(() => { \n      if(!this.settings.searchOnBtnClick){     \n        this.getProperties(); \n      }\n    });       \n  } \n  public removeSearchField(field){ \n    this.message = null;   \n    this.removedSearchField = field; \n  } \n \n\n\n  public changeCount(count){\n    this.count = count;\n    this.resetLoadMore();   \n    this.properties.length = 0;\n    this.getProperties();\n\n  }\n  public changeSorting(sort){    \n    this.sort = sort;\n    this.resetLoadMore(); \n    this.properties.length = 0;\n    this.getProperties();\n  }\n  public changeViewType(obj){ \n    this.viewType = obj.viewType;\n    this.viewCol = obj.viewCol; \n  }\n\n\n  public getFeaturedProperties(){\n    this.appService.getFeaturedProperties().subscribe(properties=>{\n      this.featuredProperties = properties;\n    })\n  } \n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { RouterModule, Routes } from '@angular/router';\nimport { SharedModule } from '../../shared/shared.module';\nimport { HomeComponent } from './home.component';\nimport { HotOfferTodayComponent } from './hot-offer-today/hot-offer-today.component';\nimport { FeaturedPropertiesComponent } from './featured-properties/featured-properties.component';\n\nexport const routes: Routes = [\n  { path: '', component: HomeComponent, pathMatch: 'full'  }\n];\n\n@NgModule({\n  declarations: [\n    HomeComponent, \n    HotOfferTodayComponent,\n    FeaturedPropertiesComponent\n  ],\n  imports: [\n    CommonModule,\n    RouterModule.forChild(routes),\n    SharedModule\n  ]\n})\nexport class HomeModule { }\n","import { Component, OnInit, Input } from '@angular/core';\nimport { AppService } from 'src/app/app.service';\n\n@Component({\n  selector: 'app-hot-offer-today',\n  templateUrl: './hot-offer-today.component.html',\n  styleUrls: ['./hot-offer-today.component.scss']\n})\nexport class HotOfferTodayComponent implements OnInit {\n  @Input('propertyId') propertyId;\n  public property;\n  constructor(public appService:AppService) { }\n\n  ngOnInit() {\n    this.appService.getPropertyById(this.propertyId).subscribe(property=>{\n      this.property = property;\n    }) \n  }\n\n}\n"],"names":[],"sourceRoot":"webpack:///"}